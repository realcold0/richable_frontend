import{a as F}from"./AxiosInstance--4YUcpg_.js";import{M,T as Bt}from"./bootstrap.esm-DOzSzUNx.js";import{C as ut,P as Pt,A as Ut,p as Vt,a as qt}from"./chart-BZRWlfz0.js";import{_ as N,r as s,m as lt,b as G,o as u,c as p,a as t,w as I,N as ht,E as T,O as H,p as j,j as B,h as bt,f as x,F as W,A as O,z as v,v as nt,B as Et,n as xt,i as Qt,C as wt}from"./index-E7HFo_Uv.js";import{a as vt}from"./axios-CCb-kr4I.js";const P=o=>(j("data-v-6d544968"),o=o(),B(),o),Rt={class:"modal-dialog"},Wt={class:"modal-content"},Ot=P(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editAssetLabel",style:{"font-weight":"bold"}},"금융 자산 등록"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Gt={class:"modal-body",style:{padding:"32px","padding-bottom":"12px"}},Ht={class:"mb-3",style:{display:"flex"}},Kt=P(()=>t("label",{for:"assetType",class:"form-label",style:{"font-weight":"bold",width:"70px","letter-spacing":"13px","padding-top":"8px"}},"분류",-1)),Xt=H('<option value="saving" data-v-6d544968>예/적금</option><option value="stock" data-v-6d544968>주식</option><option value="bond" data-v-6d544968>채권</option><option value="coin" data-v-6d544968>코인</option><option value="cash" data-v-6d544968>현금</option>',5),Jt=[Xt],Yt=H('<div class="mb-3" style="display:flex;" data-v-6d544968><label for="assetAmount" class="form-label" style="font-weight:bold;width:70px;padding-top:8px;" data-v-6d544968>가격</label><div class="input-group" data-v-6d544968><input type="text" class="form-control" id="assetAmount" placeholder="자산량을 입력해주세요" data-v-6d544968><span class="input-group-text" data-v-6d544968>원</span></div></div>',1),Zt={key:0,class:"mb-3",style:{display:"flex"}},te=P(()=>t("label",{for:"additionalAmount",class:"form-label",style:{"font-weight":"bold",width:"70px","padding-top":"8px"}},"수량",-1)),ee=P(()=>t("div",{class:"input-group"},[t("input",{type:"text",class:"form-control",id:"additionalAmount",placeholder:"추가하실 수량을 입력해주세요"}),t("span",{class:"input-group-text"},"개")],-1)),se=[te,ee],oe=P(()=>t("div",{class:"mb-3",style:{"padding-top":"14px",color:"#6C757D","font-size":"14px"}},[t("div",null," 자산 항목을 다음과 같이 등록하시겠습니까? ")],-1)),ae=P(()=>t("div",{class:"modal-footer d-flex"},[t("div",null,[t("button",{type:"button",class:"btn","data-bs-dismiss":"modal",style:{"background-color":"white",border:"1px solid #020202",color:"#020202","font-weight":"bold","margin-right":"12px",width:"62px"}},"취소"),t("button",{type:"button",class:"btn text-white",style:{"background-color":"#FF0062",width:"62px"}},"등록")])],-1)),le={__name:"AssetCreateModal",setup(o,{expose:_}){const c=s(null);let n=null;const r=()=>{!n&&c.value?(n=new M(c.value,{backdrop:"static",keyboard:!0}),n.show()):n&&n.show()},l=s("saving"),y=lt(()=>l.value==="stock"||l.value==="bond"||l.value==="coin");return G(()=>{setTimeout(()=>{c.value&&!n&&(n=new M(c.value,{backdrop:"static",keyboard:!0}))},500)}),_({show:r}),(i,d)=>(u(),p("div",{class:"modal fade",id:"editAssetModal",tabindex:"-1","aria-labelledby":"editAssetLabel","aria-hidden":"true",ref_key:"modal",ref:c},[t("div",Rt,[t("div",Wt,[Ot,t("div",Gt,[t("div",Ht,[Kt,I(t("select",{class:"form-select",id:"assetType","onUpdate:modelValue":d[0]||(d[0]=f=>l.value=f)},Jt,512),[[ht,l.value]])]),Yt,y.value?(u(),p("div",Zt,se)):T("",!0),oe]),ae])])],512))}},ne=N(le,[["__scopeId","data-v-6d544968"]]),ie=o=>(j("data-v-218ecde8"),o=o(),B(),o),de={class:"modal-dialog"},ce={class:"modal-content"},re=H('<div class="modal-header" data-v-218ecde8><h5 class="modal-title" id="editAssetLabel" style="font-weight:bold;" data-v-218ecde8>금융 자산 항목 수정</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-218ecde8></button></div><div class="modal-body" style="padding:32px;padding-bottom:12px;" data-v-218ecde8><div class="mb-3" style="display:flex;" data-v-218ecde8><label for="assetType" class="form-label" style="font-weight:bold;width:70px;letter-spacing:13px;padding-top:8px;" data-v-218ecde8>분류</label><select class="form-select" id="assetType" data-v-218ecde8><option value="saving" data-v-218ecde8>예/적금</option><option value="stock" data-v-218ecde8>주식</option><option value="bond" data-v-218ecde8>채권</option><option value="coin" data-v-218ecde8>코인</option><option value="cash" data-v-218ecde8>현금</option></select></div><div class="mb-3" style="display:flex;" data-v-218ecde8><label for="assetAmount" class="form-label" style="font-weight:bold;width:70px;padding-top:8px;" data-v-218ecde8>자산량</label><div class="input-group" data-v-218ecde8><input type="text" class="form-control" id="assetAmount" value="1,000,000" data-v-218ecde8><span class="input-group-text" data-v-218ecde8>원</span></div></div><div class="mb-3" style="padding-top:14px;color:#6C757D;font-size:14px;" data-v-218ecde8><div data-v-218ecde8> 자산 항목을 다음과 같이 수정하시겠습니까? </div></div></div>',2),ue={class:"modal-footer d-flex justify-content-between"},pe={type:"button",class:"btn"},ve=ie(()=>t("div",null,[t("button",{type:"button",class:"btn","data-bs-dismiss":"modal",style:{"background-color":"white",border:"1px solid #020202",color:"#020202","font-weight":"bold","margin-right":"12px",width:"62px"}},"취소"),t("button",{type:"button",class:"btn text-white",style:{"background-color":"#FF0062",width:"62px"}},"수정")],-1)),he={__name:"AssetUpdateModal",setup(o,{expose:_}){const c=s(null);let n=null;const r=()=>{!n&&c.value?(n=new M(c.value,{backdrop:"static",keyboard:!0}),n.show()):n&&n.show()};return G(()=>{setTimeout(()=>{c.value&&!n&&(n=new M(c.value,{backdrop:"static",keyboard:!0}))},500)}),_({show:r}),(l,y)=>{const i=bt("font-awesome-icon");return u(),p("div",{class:"modal fade",id:"editAssetModal",tabindex:"-1","aria-labelledby":"editAssetLabel","aria-hidden":"true",ref_key:"modal",ref:c},[t("div",de,[t("div",ce,[re,t("div",ue,[t("button",pe,[x(i,{icon:"trash-can"})]),ve])])])],512)}}},be=N(he,[["__scopeId","data-v-218ecde8"]]),S=o=>(j("data-v-241fdb51"),o=o(),B(),o),_e={class:"modal-dialog"},fe={class:"modal-content"},me=S(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"assetDetailLabel",style:{"font-weight":"bold"}},"자산 내역"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ye={class:"modal-body",style:{padding:"32px","padding-bottom":"12px"}},ge={key:0,class:"mb-3"},xe=S(()=>t("h6",{style:{"font-weight":"bold"}},"은행 자산 내역",-1)),we={class:"table table-bordered"},ke=S(()=>t("thead",null,[t("tr",null,[t("th",null,"은행명"),t("th",null,"계좌번호"),t("th",null,"상품 유형"),t("th",null,"잔액")])],-1)),$e={key:1,class:"mb-3"},Ae=S(()=>t("h6",{style:{"font-weight":"bold"}},"채권 자산 내역",-1)),Ce={class:"table table-bordered"},Se=S(()=>t("thead",null,[t("tr",null,[t("th",null,"채권명"),t("th",null,"보유 수량"),t("th",null,"가격")])],-1)),Me={key:2,class:"mb-3"},Le=S(()=>t("h6",{style:{"font-weight":"bold"}},"코인 자산 내역",-1)),Te={class:"table table-bordered"},Ie=S(()=>t("thead",null,[t("tr",null,[t("th",null,"통화"),t("th",null,"보유량"),t("th",null,"평균 구매가")])],-1)),ze={key:3,class:"mb-3"},De=S(()=>t("h6",{style:{"font-weight":"bold"}},"주식 자산 내역",-1)),Fe={class:"table table-bordered"},Ne=S(()=>t("thead",null,[t("tr",null,[t("th",null,"종목명"),t("th",null,"보유 수량"),t("th",null,"평균 구매가")])],-1)),je=S(()=>t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기")],-1)),Be={__name:"AssetCheckModal",props:{selectedAssetType:String,bankDataList:Array,bondDataList:Array,coinDataList:Array,stockDataList:Array},setup(o,{expose:_}){const c=s(null);let n=null;const r=y=>y.toLocaleString("ko-KR"),l=()=>{!n&&c.value?(n=new M(c.value,{backdrop:"static",keyboard:!0}),n.show()):n&&n.show()};return G(()=>{setTimeout(()=>{c.value&&!n&&(n=new M(c.value,{backdrop:"static",keyboard:!0}))},500)}),_({show:l}),(y,i)=>(u(),p("div",{class:"modal fade",id:"assetDetailModal",tabindex:"-1","aria-labelledby":"assetDetailLabel","aria-hidden":"true",ref_key:"modal",ref:c},[t("div",_e,[t("div",fe,[me,t("div",ye,[o.selectedAssetType==="bank"?(u(),p("div",ge,[xe,t("table",we,[ke,t("tbody",null,[(u(!0),p(W,null,O(o.bankDataList,(d,f)=>(u(),p("tr",{key:f},[t("td",null,v(d.orgCode),1),t("td",null,v(d.accountNum),1),t("td",null,v(d.prodCategory),1),t("td",null,v(r(d.balanceAmt))+" 원",1)]))),128))])])])):T("",!0),o.selectedAssetType==="bond"?(u(),p("div",$e,[Ae,t("table",Ce,[Se,t("tbody",null,[(u(!0),p(W,null,O(o.bondDataList,(d,f)=>(u(),p("tr",{key:f},[t("td",null,v(d.name),1),t("td",null,v(d.cnt),1),t("td",null,v(r(d.price))+" 원",1)]))),128))])])])):T("",!0),o.selectedAssetType==="coin"?(u(),p("div",Me,[Le,t("table",Te,[Ie,t("tbody",null,[(u(!0),p(W,null,O(o.coinDataList,(d,f)=>(u(),p("tr",{key:f},[t("td",null,v(d.currency),1),t("td",null,v(d.balance),1),t("td",null,v(r(d.avgBuyPrice))+" 원",1)]))),128))])])])):T("",!0),o.selectedAssetType==="stock"?(u(),p("div",ze,[De,t("table",Fe,[Ne,t("tbody",null,[(u(!0),p(W,null,O(o.stockDataList,(d,f)=>(u(),p("tr",{key:f},[t("td",null,v(d.prdtName),1),t("td",null,v(d.hldgQty),1),t("td",null,v(r(d.avgBuyPrice))+" 원",1)]))),128))])])])):T("",!0)]),je])])],512))}},Pe=N(Be,[["__scopeId","data-v-241fdb51"]]),U=o=>(j("data-v-a5ea7e13"),o=o(),B(),o),Ue={class:"modal-dialog"},Ve={class:"modal-content"},qe=U(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editAssetLabel",style:{"font-weight":"bold"}}," 현물 자산 항목 등록 "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ee={class:"modal-body",style:{padding:"32px","padding-bottom":"12px"}},Qe={class:"mb-3",style:{display:"flex"}},Re=U(()=>t("label",{for:"assetType",class:"form-label",style:{"font-weight":"bold",width:"70px","letter-spacing":"13px","padding-top":"8px"}},"분류",-1)),We=H('<option value="" disabled selected data-v-a5ea7e13>자산 유형을 선택해주세요</option><option value="자동차" data-v-a5ea7e13>자동차</option><option value="전자기기" data-v-a5ea7e13>전자기기</option><option value="브랜드" data-v-a5ea7e13>브랜드</option><option value="명품" data-v-a5ea7e13>명품</option><option value="기타" data-v-a5ea7e13>기타</option>',6),Oe=[We],Ge={class:"mb-3",style:{display:"flex"}},He=U(()=>t("label",{for:"assetName",class:"form-label",style:{"font-weight":"bold",width:"70px","padding-top":"8px"}},"자산명",-1)),Ke={class:"input-group"},Xe={class:"mb-3",style:{display:"flex"}},Je=U(()=>t("label",{for:"assetAmount",class:"form-label",style:{"font-weight":"bold",width:"70px","padding-top":"8px"}},"자산량",-1)),Ye={class:"input-group"},Ze=U(()=>t("span",{class:"input-group-text"},"원",-1)),ts=U(()=>t("div",{class:"mb-3",style:{"padding-top":"14px",color:"#6c757d","font-size":"14px"}},[t("div",null,"자산 항목을 다음과 같이 등록하시겠습니까?")],-1)),es={__name:"TangibleAssetCreateModal",emits:["create-asset"],setup(o,{expose:_,emit:c}){const n=c,r=s(null);let l=null;const y=s(""),i=s({category:"",name:"",price:0,prod_category:"spot"}),d=()=>{!l&&r.value?(l=new M(r.value,{backdrop:"static",keyboard:!0}),l.show()):l&&l.show()},f=()=>{i.value={category:"",name:"",price:0,prod_category:"spot"},y.value=""},D=async L=>{try{const m=await vt.post("http://localhost:8080/finance/spot/add",L,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});return m.data.success?(console.log(m.data),{isSuccess:!0,index:m.data.response.data.index}):{isSuccess:!1}}catch(m){return console.error("현물 자산 추가를 실패하였습니다. ",m),{isSuccess:!1}}},A=async()=>{if(i.value.category=y.value,window.confirm("자산 항목을 등록하시겠습니까?")){console.log(i.value);const{isSuccess:m,index:h}=await D(i.value);if(m){const b={...i.value,index:h};n("create-asset",b),l.hide(),i.value={category:"",name:"",price:0,prod_category:"spot"},y.value=""}else console.error("자산 추가에 실패했습니다.")}else console.log("자산 등록이 취소되었습니다.")};return G(()=>{r.value&&!l&&(l=new M(r.value,{backdrop:"static",keyboard:!0}),r.value.addEventListener("hide.bs.modal",()=>{f()}))}),_({show:d}),(L,m)=>(u(),p("div",{class:"modal fade",id:"editAssetModal",tabindex:"-1","aria-labelledby":"editAssetLabel","aria-hidden":"true",ref_key:"modal",ref:r},[t("div",Ue,[t("div",Ve,[qe,t("div",Ee,[t("div",Qe,[Re,I(t("select",{class:"form-select",id:"assetType","onUpdate:modelValue":m[0]||(m[0]=h=>y.value=h)},Oe,512),[[ht,y.value]])]),t("div",Ge,[He,t("div",Ke,[I(t("input",{type:"text",class:"form-control",id:"assetName","onUpdate:modelValue":m[1]||(m[1]=h=>i.value.name=h),placeholder:"자산명을 입력해주세요"},null,512),[[nt,i.value.name]])])]),t("div",Xe,[Je,t("div",Ye,[I(t("input",{type:"number",class:"form-control",id:"assetAmount","onUpdate:modelValue":m[2]||(m[2]=h=>i.value.price=h),placeholder:"자산량을 입력해주세요"},null,512),[[nt,i.value.price]]),Ze])]),ts]),t("div",{class:"modal-footer d-flex"},[t("div",null,[t("button",{type:"button",class:"btn","data-bs-dismiss":"modal",style:{"background-color":"white",border:"1px solid #020202",color:"#020202","font-weight":"bold","margin-right":"12px",width:"62px"},onClick:f}," 취소 "),t("button",{type:"button",class:"btn text-white",style:{"background-color":"#ff0062",width:"62px"},onClick:A}," 등록 ")])])])])],512))}},ss=N(es,[["__scopeId","data-v-a5ea7e13"]]),z=o=>(j("data-v-a0cfa195"),o=o(),B(),o),os={class:"modal-dialog"},as={class:"modal-content"},ls=z(()=>t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"editAssetLabel",style:{"font-weight":"bold"}}," 현물 자산 항목 수정 "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),ns={class:"modal-body",style:{padding:"32px","padding-bottom":"12px"}},is={class:"mb-3",style:{display:"flex"}},ds=z(()=>t("label",{for:"assetType",class:"form-label",style:{"font-weight":"bold",width:"70px","letter-spacing":"13px","padding-top":"8px"}},"분류",-1)),cs=H('<option value="자동차" data-v-a0cfa195>자동차</option><option value="전자기기" data-v-a0cfa195>전자기기</option><option value="브랜드" data-v-a0cfa195>브랜드</option><option value="명품" data-v-a0cfa195>명품</option><option value="기타" data-v-a0cfa195>기타</option>',5),rs=[cs],us={class:"mb-3",style:{display:"flex"}},ps=z(()=>t("label",{for:"assetName",class:"form-label",style:{"font-weight":"bold",width:"70px","padding-top":"8px"}},"자산명",-1)),vs={class:"input-group"},hs={class:"mb-3",style:{display:"flex"}},bs=z(()=>t("label",{for:"assetAmount",class:"form-label",style:{"font-weight":"bold",width:"70px","padding-top":"8px"}},"자산량",-1)),_s={class:"input-group"},fs=z(()=>t("span",{class:"input-group-text"},"원",-1)),ms=z(()=>t("div",{class:"mb-3",style:{"padding-top":"14px",color:"#6c757d","font-size":"14px"}},[t("div",null,"자산 항목을 다음과 같이 수정하시겠습니까?")],-1)),ys={class:"modal-footer d-flex justify-content-between"},gs=z(()=>t("button",{type:"button",class:"btn","data-bs-dismiss":"modal",style:{"background-color":"white",border:"1px solid #020202",color:"#020202","font-weight":"bold","margin-right":"12px",width:"62px"}}," 취소 ",-1)),xs={__name:"TangibleAssetUpdateModal",emits:["update-asset","delete-asset"],setup(o,{expose:_,emit:c}){const n=c,r=s(null);let l=null;const y=s(null),i=s({index:0,category:"",name:"",price:0}),d=h=>{const{addDate:b,...$}=h;y.value={...$},i.value={...$},console.log(i.value),!l&&r.value?(l=new M(r.value,{backdrop:"static",keyboard:!0}),l.show()):l&&l.show()},f=s({index:0,name:"",price:0}),D=async h=>{try{return(await vt.put("http://localhost:8080/finance/spot/update",h,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data.success}catch(b){return console.error("현물 자산 수정을 실패하였습니다. ",b),!1}},A=async()=>{if(!Object.keys(i.value).some($=>$==="id"||$==="category"?!1:i.value[$]!==y.value[$])){alert("변경된 값이 없습니다.");return}if(window.confirm("자산 항목을 수정하시겠습니까?")){const{category:$,...C}=i.value;f.value={...C},await D(f.value)?(n("update-asset",{...i.value}),l.hide()):console.error("자산 수정이 실패했습니다.")}else console.log("자산 수정이 취소되었습니다.")},L=async h=>{try{return(await vt.delete(`http://localhost:8080/finance/spot/delete/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).data.success}catch(b){return console.error("자산 삭제에 실패하였습니다.",b),!1}},m=async()=>{window.confirm("이 자산을 삭제하시겠습니까?")?await L(i.value.index)?(n("delete-asset",{index:i.value.index}),l.hide()):console.error("삭제에 실패했습니다."):console.log("자산 삭제가 취소되었습니다.")};return _({show:d}),(h,b)=>{const $=bt("font-awesome-icon");return u(),p("div",{class:"modal fade",id:"editAssetModal",tabindex:"-1","aria-labelledby":"editAssetLabel","aria-hidden":"true",ref_key:"modal",ref:r},[t("div",os,[t("div",as,[ls,t("div",ns,[t("div",is,[ds,I(t("select",{class:"form-select",id:"assetType","onUpdate:modelValue":b[0]||(b[0]=C=>i.value.category=C),disabled:""},rs,512),[[ht,i.value.category]])]),t("div",us,[ps,t("div",vs,[I(t("input",{type:"text",class:"form-control",id:"assetName","onUpdate:modelValue":b[1]||(b[1]=C=>i.value.name=C)},null,512),[[nt,i.value.name]])])]),t("div",hs,[bs,t("div",_s,[I(t("input",{type:"text",class:"form-control",id:"assetAmount","onUpdate:modelValue":b[2]||(b[2]=C=>i.value.price=C)},null,512),[[nt,i.value.price]]),fs])]),ms]),t("div",ys,[t("button",{type:"button",class:"btn",onClick:m},[x($,{icon:"trash-can"})]),t("div",null,[gs,t("button",{type:"button",class:"btn text-white",style:{"background-color":"#ff0062",width:"62px"},onClick:A}," 수정 ")])])])])],512)}}},ws=N(xs,[["__scopeId","data-v-a0cfa195"]]),k=o=>(j("data-v-89ba2e4f"),o=o(),B(),o),ks={class:"tab-bar"},$s={class:"nav nav-tabs"},As=k(()=>t("a",null,"금융 자산 현황",-1)),Cs=[As],Ss=k(()=>t("a",null,"현물 자산 포함",-1)),Ms=[Ss],Ls={class:"tooltip-box"},Ts=["title"],Is={class:"tab-content"},zs={key:0,class:"tab-page"},Ds={class:"total-asset"},Fs=k(()=>t("div",{class:"asset-title"},"김리치님의 총 금융 자산 현황 😎",-1)),Ns={class:"asset-amount"},js={class:"asset-list"},Bs=k(()=>t("div",{class:"list-title"}," 금융 자산 목록 ",-1)),Ps={class:"list-box"},Us=k(()=>t("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{style:{"font-weight":"bold","font-size":"18px"}},"예/적금")],-1)),Vs={style:{display:"flex","justify-content":"center","align-items":"center"}},qs={style:{"font-weight":"bold","font-size":"24px",color:"#ff0062"}},Es=k(()=>t("div",{style:{"font-weight":"bold","font-size":"18px",color:"#8a8aa8","margin-left":"4px"}}," 원 ",-1)),Qs={style:{display:"flex","justify-content":"center","align-items":"center","font-size":"60px","margin-top":"8px"}},Rs=k(()=>t("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{style:{"font-weight":"bold","font-size":"18px"}},"주식")],-1)),Ws={style:{display:"flex","justify-content":"center","align-items":"center"}},Os={style:{"font-weight":"bold","font-size":"24px",color:"#ff0062"}},Gs=k(()=>t("div",{style:{"font-weight":"bold","font-size":"18px",color:"#8a8aa8","margin-left":"4px"}}," 원 ",-1)),Hs={style:{display:"flex","justify-content":"center","align-items":"center","font-size":"60px","margin-top":"8px"}},Ks=k(()=>t("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{style:{"font-weight":"bold","font-size":"18px"}},"채권")],-1)),Xs={style:{display:"flex","justify-content":"center","align-items":"center"}},Js={style:{"font-weight":"bold","font-size":"24px",color:"#ff0062"}},Ys=k(()=>t("div",{style:{"font-weight":"bold","font-size":"18px",color:"#8a8aa8","margin-left":"4px"}}," 원 ",-1)),Zs={style:{display:"flex","justify-content":"center","align-items":"center","font-size":"60px","margin-top":"8px"}},to=k(()=>t("div",{style:{display:"flex","justify-content":"center","align-items":"center"}},[t("div",{style:{"font-weight":"bold","font-size":"18px"}},"코인")],-1)),eo={style:{display:"flex","justify-content":"center","align-items":"center"}},so={style:{"font-weight":"bold","font-size":"24px",color:"#ff0062"}},oo=k(()=>t("div",{style:{"font-weight":"bold","font-size":"18px",color:"#8a8aa8","margin-left":"4px"}}," 원 ",-1)),ao={style:{display:"flex","justify-content":"center","align-items":"center","font-size":"60px","margin-top":"8px"}},lo={class:"asset-chart"},no=k(()=>t("div",{class:"list-title"},"총 금융 자산 분포",-1)),io={class:"chart-box"},co={key:1,class:"tab-page"},ro={class:"total-asset"},uo=k(()=>t("div",{class:"asset-title"},"김리치님의 총 현물 자산 현황 😎",-1)),po={class:"asset-amount"},vo={class:"asset-list"},ho={class:"list-title"},bo={class:"list-box"},_o=["disabled"],fo={class:"carousel-track"},mo={style:{display:"flex","flex-direction":"row","justify-content":"center"}},yo={class:"asset-category"},go=["onClick"],xo={class:"asset-name"},wo={class:"asset-price"},ko={class:"price"},$o=k(()=>t("span",{class:"currency"},"원",-1)),Ao={class:"asset-icon"},Co=["disabled"],So={class:"asset-chart"},Mo=k(()=>t("div",{class:"list-title"},"총 현물 자산 분포",-1)),Lo={class:"chart-box"},pt=4,To={__name:"AssetManagementPage",setup(o){ut.register(Pt,Ut,Vt,qt);const _=s("tab1"),c=s(null),n=s(null),r=s("금융 자산은 [예/적금], [주식], [채권], [코인], [현금]을 포함합니다."),l=s(0),y=s("bank"),i=s([{orgCode:"국민은행",accountNum:93800123456,prodCategory:"예금",balanceAmt:1e6},{orgCode:"신한은행",accountNum:12345678910,prodCategory:"적금",balanceAmt:15e5},{orgCode:"하나은행",accountNum:56789012345,prodCategory:"예금",balanceAmt:2e6}]),d=s([{name:"국고채권 01500-5003(20-2)",cnt:2,price:7e3},{name:"국고채권 01200-4003(18-3)",cnt:3,price:8500},{name:"국고채권 01300-5003(19-2)",cnt:5,price:9200}]),f=s([{currency:"BTC",balance:.5,avgBuyPrice:45e6},{currency:"ETH",balance:2,avgBuyPrice:15e5},{currency:"XRP",balance:5e3,avgBuyPrice:1e3}]),D=s([{prdtName:"삼성전자",hldgQty:10,avgBuyPrice:8e4},{prdtName:"LG화학",hldgQty:5,avgBuyPrice:75e4},{prdtName:"카카오",hldgQty:15,avgBuyPrice:11e4}]),A=s([{index:1,category:"전자기기",name:"아이폰",price:12e5},{index:2,category:"명품",name:"구찌 가방",price:3e6},{index:3,category:"브랜드",name:"나이키 신발",price:2e5},{index:4,category:"기타",name:"기타 자산",price:5e5},{index:5,category:"전자기기",name:"맥북",price:2e6},{index:6,category:"명품",name:"프라다 가방",price:35e5},{index:7,category:"브랜드",name:"아디다스 신발",price:15e4},{index:8,category:"기타",name:"기타 자산 2",price:6e5}]),L=lt(()=>A.value.slice().reverse()),m=lt(()=>{const e=l.value*pt,a=e+pt;return L.value.slice(e,a)}),h=lt(()=>Math.ceil(A.value.length/pt)),b=e=>{switch(e){case"자동차":return"car";case"전자기기":return"desktop";case"명품":return"fa-gem";case"브랜드":return"tags";case"기타":return"question-circle";default:return"question-circle"}},$=s(null),C=s(null);let K=null,it=null;const _t=async()=>{await mt(),await wt(),K&&K.destroy(),K=new ut($.value,{type:"doughnut",data:{labels:["예/적금","주식","채권","코인"],datasets:[{data:[V==null?void 0:V.value,q==null?void 0:q.value,Q==null?void 0:Q.value,E==null?void 0:E.value],backgroundColor:["#C30044","#FF0062","#DA0052","#FFF2F6"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:70,padding:100,font:{size:14,weight:"bold"}}}},layout:{padding:{top:10,bottom:10}}}})},X=async()=>{await gt(),await wt(),it&&it.destroy(),it=new ut(C.value,{type:"doughnut",data:{labels:["자동차","전자기기","브랜드","명품","기타"],datasets:[{data:[tt==null?void 0:tt.value,et==null?void 0:et.value,st==null?void 0:st.value,ot==null?void 0:ot.value,at==null?void 0:at.value],backgroundColor:["#C30044","#FF0062","#DA0052","#FFF2F6","#DA0052"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:70,padding:100,font:{size:14,weight:"bold"}}}},layout:{padding:{top:10,bottom:10}}}})},kt=()=>{l.value>0&&l.value--},$t=()=>{l.value<h.value-1&&l.value++},At=async()=>{r.value=_.value==="tab1"?"금융 자산은 [예/적금], [주식], [채권], [코인], [현금]을 포함합니다.":"현물 자산은 [자동차], [전자기기], [브랜드], [명품], [기타]를 포함합니다.",n.value&&n.value.dispose(),c.value.setAttribute("title",r.value),n.value=new Bt(c.value)};Et(_,e=>{e==="tab1"?_t():e==="tab2"&&X()});const Ct=s(null),St=s(null),dt=s(null),ct=s(null),rt=s(null),Mt=()=>ct.value&&ct.value.show(),Lt=e=>dt.value&&dt.value.show(e),J=e=>{rt.value&&(y.value=e,rt.value.show(e))},Tt=async e=>{A.value.push({...e}),await Z(),await X()},It=async e=>{const a=A.value.findIndex(w=>w.index===e.index);a!==-1&&(A.value.splice(a,1,{...e}),await Z(),await X())},zt=async e=>{A.value=A.value.filter(a=>a.index!==e.index),await Z(),await X()},ft=s(0),Dt=async()=>{try{const e=await F.get("/finance/fin/sum");console.log(e),console.log(e.data.response.data.amount),ft.value=e.data.response.data.amount}catch(e){console.error("금융 자산 합 조회 api 호출을 실패하였습니다. ",e)}},V=s(0),q=s(0),E=s(0),Q=s(0),mt=async()=>{try{const a=(await F.get("/finance/fin")).data.response.data;V.value=a[0]?a[0].amount:0,q.value=a[1]?a[1].amount:0,E.value=a[2]?a[2].amount:0,Q.value=a[3]?a[3].amount:0}catch(e){console.error("금융 자산별 합 조회 api 호출을 실패하였습니다. ",e)}},Y=async e=>{try{const a=await F.get(`/asset/${e}/all`);console.log(a.data.response.data);const w=a.data.response.data,g={bank:i,bond:d,coin:f,stock:D};g[e]&&(g[e].value=w)}catch(a){console.error(e," / 금융 자산별 목록 조회 api 호출을 실패하였습니다. ",a)}},yt=s(0),Z=async()=>{try{const e=await F.get("/finance/spot/sum");console.log(e.data.response.data.amount),yt.value=e.data.response.data.amount}catch(e){console.error("현물 자산 합 조회 api 호출을 실패하였습니다. ",e)}},tt=s(0),et=s(0),st=s(0),ot=s(0),at=s(0),R=async e=>{try{const w=(await F.get(`finance/spot/${e}/sum`)).data.response.data.amount,g={car:tt,elec:et,brand:st,luxury:ot,etc:at};g[e]&&(g[e].value=w)}catch(a){console.error(e," / 카테고리별 현물 자산 목록 조회 api 호출을 실패하였습니다. ",a)}},Ft=async()=>{try{const e=await F.get("/finance/spot/all");console.log(e.data.response.data),A.value=e.data.response.data}catch(e){console.error("현물 자산 목록 조회 api 호출을 실패하였습니다. ",e)}},Nt=()=>{Y("bank"),Y("stock"),Y("bond"),Y("coin")},gt=async()=>{await R("car"),await R("elec"),await R("brand"),await R("luxury"),await R("etc")};return G(()=>{At(),Dt(),mt(),Nt(),gt(),Z(),Ft(),_t()}),(e,a)=>{const w=bt("font-awesome-icon");return u(),p("div",null,[t("div",ks,[t("ul",$s,[t("li",{class:xt(["nav-item nav-link",{active:_.value==="tab1"}]),onClick:a[0]||(a[0]=g=>_.value="tab1")},Cs,2),t("li",{class:xt(["nav-item nav-link",{active:_.value==="tab2"}]),onClick:a[1]||(a[1]=g=>_.value="tab2")},Ms,2),t("div",Ls,[t("button",{class:"tool-btn",ref_key:"tooltipButton",ref:c,type:"button","data-bs-toggle":"tooltip","data-bs-placement":"left",title:r.value},[x(w,{icon:"circle-question",style:{"font-size":"25px"}})],8,Ts)])])]),t("div",Is,[_.value==="tab1"?(u(),p("div",zs,[t("div",Ds,[Fs,t("div",Ns,v(ft.value.toLocaleString())+" 원",1)]),t("div",js,[Bs,t("div",Ps,[t("div",{class:"asset-item",onClick:a[2]||(a[2]=g=>J("bank"))},[Us,t("div",Vs,[t("div",qs,v(V.value.toLocaleString()),1),Es]),t("div",Qs,[x(w,{icon:"piggy-bank"})])]),t("div",{class:"asset-item",onClick:a[3]||(a[3]=g=>J("stock"))},[Rs,t("div",Ws,[t("div",Os,v(q.value.toLocaleString()),1),Gs]),t("div",Hs,[x(w,{icon:"chart-line"})])]),t("div",{class:"asset-item",onClick:a[4]||(a[4]=g=>J("bond"))},[Ks,t("div",Xs,[t("div",Js,v(Q.value.toLocaleString()),1),Ys]),t("div",Zs,[x(w,{icon:"money-check-dollar"})])]),t("div",{class:"asset-item",onClick:a[5]||(a[5]=g=>J("coin"))},[to,t("div",eo,[t("div",so,v(E.value.toLocaleString()),1),oo]),t("div",ao,[x(w,{icon:"fa-brands fa-bitcoin"})])])])]),t("div",lo,[no,t("div",io,[t("canvas",{ref_key:"pieChart",ref:$},null,512)])])])):T("",!0),_.value==="tab2"?(u(),p("div",co,[t("div",ro,[uo,t("div",po,v(yt.value.toLocaleString())+" 원",1)]),t("div",vo,[t("div",ho,[Qt(" 현물 자산 목록 "),x(w,{icon:"square-plus",style:{color:"#c30044"},onClick:Mt})]),t("div",bo,[t("button",{class:"control-btn",onClick:kt,disabled:l.value===0},[x(w,{icon:["fas","chevron-left"]})],8,_o),t("div",fo,[(u(!0),p(W,null,O(m.value,(g,jt)=>(u(),p("div",{key:jt,class:"asset-item"},[t("div",mo,[t("div",yo,v(g.category),1),t("div",{style:{color:"#c30044","font-size":"16px","margin-left":"4px"},onClick:Io=>Lt(g)},[x(w,{icon:"pen-to-square"})],8,go)]),t("div",xo,v(g.name),1),t("div",wo,[t("span",ko,v(Number(g.price).toLocaleString()),1),$o]),t("div",Ao,[x(w,{icon:b(g.category)},null,8,["icon"])])]))),128))]),t("button",{class:"control-btn",onClick:$t,disabled:l.value===h.value-1},[x(w,{icon:["fas","chevron-right"]})],8,Co)]),t("div",So,[Mo,t("div",Lo,[t("canvas",{ref_key:"pieChart2",ref:C},null,512)])])])])):T("",!0)]),x(ne,{ref_key:"createModal",ref:Ct},null,512),x(be,{ref_key:"editModal",ref:St},null,512),x(ss,{ref_key:"createModal2",ref:ct,onCreateAsset:Tt},null,512),x(ws,{ref_key:"editModal2",ref:dt,onUpdateAsset:It,onDeleteAsset:zt},null,512),x(Pe,{"selected-asset-type":y.value,"bank-data-list":i.value,"bond-data-list":d.value,"coin-data-list":f.value,"stock-data-list":D.value,ref_key:"checkModal",ref:rt},null,8,["selected-asset-type","bank-data-list","bond-data-list","coin-data-list","stock-data-list"])])}}},Bo=N(To,[["__scopeId","data-v-89ba2e4f"]]);export{Bo as default};
