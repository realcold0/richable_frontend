import{_ as V,r as l,c as S,a as e,w as h,v as y,f as B,g as E,e as N,u as F,h as U,o as j,i as q,p as M,j as R}from"./index-E7HFo_Uv.js";import{a as x}from"./axios-CCb-kr4I.js";const p=c=>(M("data-v-a117079b"),c=c(),R(),c),T={id:"findid",class:"find-id-container"},$=p(()=>e("h2",{class:"text-center mb-4",style:{"font-size":"20px"}},"아이디 찾기",-1)),z={class:"mb-4 text-start"},A=p(()=>e("label",{for:"email",class:"form-label"},"이메일",-1)),D={class:"input-group"},L={class:"mb-5 text-start"},G=p(()=>e("label",{for:"verificationCode",class:"form-label"},"인증코드",-1)),H={class:"input-group"},J={class:"mb-5 text-center"},g="http://localhost:8080/member",K={__name:"FindId",setup(c){const C=F(),r=l(""),d=l(""),k=l(!1),u=l(!1),m=l(""),w=async()=>{var n,t,o,s,a,_,b;if(r.value)try{const i=await x.post(`${g}/find/id`,{email:r.value});i.data.success?(alert((t=(n=i.data.response)==null?void 0:n.data)==null?void 0:t.message),k.value=!0):alert(((s=(o=i.data.response)==null?void 0:o.data)==null?void 0:s.message)||"인증 코드 전송에 실패했습니다.")}catch(i){console.error("Error sending verification code:",i),alert(((b=(_=(a=i.response)==null?void 0:a.data)==null?void 0:_.data)==null?void 0:b.message)||"오류가 발생했습니다.")}else alert("이메일을 입력해주세요.")},f=async()=>{var n,t,o,s;if(d.value)try{const a=await x.post(`${g}/find/id/auth`,{email:r.value,code:d.value});a.data.success?(m.value=((t=(n=a.data.response)==null?void 0:n.data)==null?void 0:t.id)||"",u.value=!0,alert("이메일 인증이 성공적으로 완료되었습니다.")):alert(((s=(o=a.data.response)==null?void 0:o.data)==null?void 0:s.message)||"인증에 실패했습니다.")}catch(a){console.error("Error verifying code:",a),alert("인증 과정에서 오류가 발생했습니다.")}else alert("인증 코드를 입력해주세요.")},v=async()=>{u.value?C.push({name:"findid2",params:{id:m.value}}):alert("먼저 이메일 인증을 완료해주세요.")},I=()=>{u.value?v():f()};return(n,t)=>{const o=U("router-link");return j(),S("div",T,[$,e("form",{onSubmit:N(I,["prevent"])},[e("div",z,[A,e("div",D,[h(e("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),class:"form-control",id:"email",placeholder:"richable@email.com",required:""},null,512),[[y,r.value]]),e("button",{type:"button",class:"btn btn-secondary",onClick:w}," 인증번호 ")])]),e("div",L,[G,e("div",H,[h(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"form-control",id:"verificationCode",placeholder:"인증 코드 6자를 입력하세요.",required:""},null,512),[[y,d.value]]),e("button",{type:"button",class:"btn btn-secondary",onClick:f},"확인")])]),e("div",{class:"mb-5"},[e("button",{type:"button",class:"btn btn-secondary w-100 mb-3",onClick:v},"계속")]),e("div",J,[B(o,{to:"/user/signin",class:"join-link"},{default:E(()=>[q("다른 방법으로 로그인")]),_:1})])],32)])}}},Q=V(K,[["__scopeId","data-v-a117079b"]]);export{Q as default};
