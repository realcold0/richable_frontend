import{_ as K,r as l,m as q,B as z,b as G,c as m,a as t,z as u,i as d,w as H,N as J,F as O,A as Q,x as E,E as X,C as tt,o as h,p as et,j as ot}from"./index-E7HFo_Uv.js";import{C as L,r as at}from"./chart-BZRWlfz0.js";import{a as D}from"./AxiosInstance--4YUcpg_.js";import{u as st}from"./curMonth-BeaD9XSL.js";import"./axios-CCb-kr4I.js";const M=_=>(et("data-v-73309fbf"),_=_(),ot(),_),nt={class:"container"},ct={class:"month-navigation text-center"},lt={class:"text-center total-asset"},rt={class:"asset-title"},it={class:"asset-amount"},dt={class:"avg-content"},ut=M(()=>t("div",{class:"text-left category-comparison"},[t("div",{class:"sub-title"},"ëŒ€í•œë¯¼êµ­ í‰ê·  ì†Œë¹„ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•´ìš”"),t("div",{class:"main-title"},"ë‚˜ëŠ” í‰ê·  ëŒ€ë¹„ ì–¼ë§ˆë‚˜ ì§€ì¶œí• ê¹Œìš”?")],-1)),vt={class:"text-center"},pt={class:"total-consume"},mt={class:"consume-title"},ht=["value"],gt={class:"consume-title"},ft=M(()=>t("div",{class:"chart-container"},[t("canvas",{style:{"margin-top":"20px"},id:"myChart"})],-1)),_t={class:"saving-content"},yt=M(()=>t("div",{class:"summary-header"},[t("div",{class:"main-title"},"6ê°œì›” ê°„ ì†Œë¹„ë¥¼ ì ˆì•½í–ˆì„ ë•Œ")],-1)),bt={key:0},xt={class:"total-consume"},Ct={class:"consume-title"},St={style:{"font-size":"18px","font-weight":"500",color:"#FF0062"}},Mt={class:"consume-title"},kt={style:{"font-size":"18px","font-weight":"500",color:"#FF0062"}},wt=M(()=>t("canvas",{style:{"margin-top":"20px"},id:"savingChart"},null,-1)),Bt={__name:"CompareConsumePage",setup(_){L.register(...at);const v=st(),c=l(v.month),r=l(v.year);console.log(c,r);const y=l("ì‹ë£Œí’ˆ"),A=l(["ì‹ë£Œí’ˆ","ìœ í¥","ì‡¼í•‘","ê³µê³¼ê¸ˆ","ìƒí™œìš©í’ˆ","ì˜ë£Œë¹„","êµí†µë¹„","í†µì‹ ë¹„","ë¬¸í™”","êµìœ¡ë¹„","ì™¸ì‹ Â· ìˆ™ë°•","ê¸°íƒ€"]),b=l(0),g=l(0),x=l(0),p=q(()=>b.value-x.value),k=l([]),I=l([]),W={ì‹ë£Œí’ˆ:"ì‹ë£Œí’ˆ Â· ë¹„ì£¼ë¥˜ìŒë£Œ",ìœ í¥:"ì£¼ë¥˜ Â· ë‹´ë°°",ì‡¼í•‘:"ì˜ë¥˜ Â· ì‹ ë°œ",ê³µê³¼ê¸ˆ:"ì£¼ê±° Â· ìˆ˜ë„ Â· ê´‘ì—´",ìƒí™œìš©í’ˆ:"ê°€ì •ìš©í’ˆ Â· ê°€ì‚¬ì„œë¹„ìŠ¤",ì˜ë£Œë¹„:"ë³´ê±´",êµí†µë¹„:"êµí†µ",í†µì‹ ë¹„:"í†µì‹ ",ë¬¸í™”:"ì˜¤ë½ Â· ë¬¸í™”",êµìœ¡ë¹„:"êµìœ¡","ì™¸ì‹ Â· ìˆ™ë°•":"ìŒì‹ Â· ìˆ™ë°•",ê¸°íƒ€:"ê¸°íƒ€ìƒí’ˆ Â· ì„œë¹„ìŠ¤"};function Y(a){return W[a]||"ë§¤í•‘ë˜ì§€ ì•Šì€ ì»¬ëŸ¼"}let w=null,B=null;const T=()=>{const{year:a,month:e}=v.decreaseMonth();c.value=e,r.value=a,f(),C(),S()},V=()=>{const{year:a,month:e}=v.increaseMonth();c.value=e,r.value=a,f(),C(),S()};z(y,()=>{f()}),z([c,r],()=>{C(),S(),f()});const f=async()=>{const a=r.value,e=c.value,o=Y(y.value),s=encodeURIComponent(o),i=(await D.get(`/outcome/compare/${a}/${e}/${s}`)).data.response.data;b.value=i.mySum,x.value=i.averageSum,console.log(b.value,x.value),N()},C=async()=>{const a=r.value,e=c.value,s=(await D.get(`/outcome/review/sum/${a}/${e}`)).data.response.data;g.value=Math.abs(s.possibleSaveAmount),console.log(g.value)},S=async()=>{const a=r.value,e=c.value,s=(await D.get(`/outcome/simulation/${a}/${e}`)).data.response.data;console.log(s),k.value=s.possibleSaveAmount.map(n=>Math.abs(n)),I.value=s.saveAmount.map(n=>Math.abs(n)),tt(()=>{const n=document.getElementById("savingChart");n&&(n.getContext("2d")?P(s.months,I.value,k.value):console.error("Cannot find canvas element for savingChart"))})},N=()=>{const a=document.getElementById("myChart").getContext("2d");w&&w.destroy(),w=new L(a,{type:"bar",data:{labels:["í‰ê·  ì†Œë¹„","ë‚˜ì˜ ì†Œë¹„"],datasets:[{label:"ì†Œë¹„ ë¹„êµ",data:[x.value,b.value],backgroundColor:["#d3d3d3","#ff6384"],borderWidth:1,borderRadius:10,barThickness:50}]},options:{responsive:!0,layout:{padding:{top:20}},scales:{y:{grid:{display:!1},beginAtZero:!0,ticks:{callback:function(e){return e.toLocaleString()+"ì›"}}},x:{grid:{display:!1},ticks:{color:"#767676"}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return e.raw.toLocaleString()+"ì›"}}}}},plugins:[{id:"barLabels",afterDatasetsDraw(e){const{ctx:o,data:s,scales:{x:n,y:i}}=e;o.save(),o.font="12px Pretendard",o.fillStyle="#767676",o.textAlign="center",o.textBaseline="bottom",s.datasets.forEach((R,U)=>{e.getDatasetMeta(U).data.forEach(($,Z)=>{const F=R.data[Z],j=F>=1e5?`${Math.floor(F/1e4)}ë§Œì›`:`${F.toLocaleString()}ì›`;o.fillText(j,$.x,$.y-5)})}),o.restore()}}]})},P=(a,e,o)=>{var n;const s=(n=document.getElementById("savingChart"))==null?void 0:n.getContext("2d");if(!s){console.error("Cannot get context for savingChart");return}B&&B.destroy(),console.log(e,o),B=new L(s,{type:"line",data:{labels:a,datasets:[{label:"ì ˆì•½í–ˆì„ ë•Œ ì €ì¶•",data:e,borderColor:"#FF6384",fill:!1,borderWidth:2},{label:"í‰ì†Œ ì €ì¶•",data:o,borderColor:"#D3D3D3",fill:!1,borderWidth:2}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{callback:function(i){return i.toLocaleString()+"ì›"}}}},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(i){return i.raw.toLocaleString()+"ì›"}}}}}})};return G(()=>{f(),C(),S(),c.value=v.month,r.value=v.year}),(a,e)=>(h(),m("div",nt,[t("div",ct,[t("button",{onClick:T,class:"btn custom-btn-left"}),t("div",null,u(c.value)+"ì›”",1),t("button",{onClick:V,class:"btn custom-btn-right"})]),t("div",lt,[t("div",rt,u(p.value>0?"ì´ë²ˆ ë‹¬ì— ì•„ë‚„ ìˆ˜ ìˆì—ˆë˜ ë¹„ìš©ì´ì—ìš” ğŸ˜¢":"ì´ë²ˆë‹¬ì— ì•„ë‚€ ë¹„ìš©ì´ì—ìš”"),1),t("div",it,u(Math.abs(g.value).toLocaleString())+"ì›",1)]),t("div",dt,[ut,t("div",vt,[t("div",pt,[t("div",mt,[d(" ë‚˜ì˜ ì´ë²ˆ ë‹¬ "),H(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>y.value=o),class:"form-select custom-inline-select",style:{"font-size":"18px","font-weight":"700","background-color":"none"}},[(h(!0),m(O,null,Q(A.value,o=>(h(),m("option",{key:o,value:o},u(o),9,ht))),128))],512),[[J,y.value]]),d(" ì†Œë¹„ëŠ” ")]),t("div",gt,[d(" í‰ê· ë³´ë‹¤ "),t("span",{style:E({color:p.value>0?"#EB003B":"#2768FF",fontSize:"18px",fontWeight:"700"})},u(Math.abs(p.value).toLocaleString())+"ì› ",5),p.value>0?(h(),m("span",{key:0,style:E({color:p.value>0?"#EB003B":"#2768FF",fontSize:"18px",fontWeight:"700"})}," ë§ìŠµë‹ˆë‹¤",4)):(h(),m("span",{key:1,style:E({color:p.value>0?"#EB003B":"#2768FF",fontSize:"18px",fontWeight:"700"})},"ì ìŠµë‹ˆë‹¤",4)),d(". ")])]),ft])]),t("div",_t,[yt,k.value.length>0?(h(),m("div",bt,[t("div",xt,[t("div",Ct,[d(" ì´ë²ˆ ë‹¬ ì†Œë¹„ ì¤‘ ì¤„ì¼ ìˆ˜ ìˆëŠ” ì†Œë¹„ëŠ” "),t("span",St,u(Math.abs(g.value).toLocaleString()),1),d(" ì› ì´ì—ìš”. ")]),t("div",Mt,[d(" 6ê°œì›” ë™ì•ˆ "),t("span",kt,u(Math.abs(g.value*6).toLocaleString()),1),d(" ì› ì ˆì•½ì´ ê°€ëŠ¥í•´ìš”! ")])]),wt])):X("",!0)])]))}},$t=K(Bt,[["__scopeId","data-v-73309fbf"]]);export{$t as default};
