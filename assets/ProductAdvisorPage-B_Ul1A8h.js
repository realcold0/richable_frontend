import{a as u}from"./AxiosInstance--4YUcpg_.js";import{_ as B,r as a,b as I,c,a as e,i,z as o,f as b,F as L,A,O as j,h as N,o as n,n as T,p as V,j as z}from"./index-E7HFo_Uv.js";import"./axios-CCb-kr4I.js";const r=d=>(V("data-v-37858d10"),d=d(),z(),d),F={class:"container"},M=r(()=>e("div",{class:"total-asset-title"},"나의 자산 중 여유자금은 얼마일까요?",-1)),R={class:"total-asset"},D={class:"total-asset-sub"},E=r(()=>e("br",null,null,-1)),J={style:{display:"inline","font-size":"18px"},class:"highlight"},O={class:"d-flex justify-content-center align-items-center mb-5 chart-container1"},W={class:"chart-container2"},$={class:"donut-chart"},q={viewBox:"0 0 36 36"},G=r(()=>e("path",{class:"circle-bg",d:`M18 2.0845
                 a 15.9155 15.9155 0 0 1 0 31.831
                 a 15.9155 15.9155 0 0 1 0 -31.831`},null,-1)),H=["stroke-dasharray"],K={class:"chart-label"},Q=j('<div class="legend-container d-flex justify-content-center align-items-center" data-v-37858d10><div class="legend-item" data-v-37858d10><span class="legend-box total" data-v-37858d10></span> 총 자산 </div><div class="legend-item" data-v-37858d10><span class="legend-box available" data-v-37858d10></span> 여유 자금 </div></div>',1),U={class:"cha-title"},X={class:"cha-title-sub"},Y={style:{display:"inline",color:"#ff0062"}},Z={class:"cha-title-main"},ee={key:0,class:"spinner-container"},se=r(()=>e("div",{class:"spinner scroll-wrapper"},null,-1)),te=[se],ae={key:2,class:"scroll-wrapper"},oe={class:"custom-card"},ce={class:"card-body"},ne={class:"product-name mb-2 text-muted"},le={style:{display:"flex","justify-content":"space-between"}},ie={class:"product-price"},re=r(()=>e("p",{class:"unit-price text-muted"},"단위당 가격",-1)),de={__name:"ProductAdvisorPage",setup(d){const f=a(0),v=a(0),p=a([]),m=a(""),g=a(""),h=a(!0),l=a(null),k=()=>{l.value&&l.value.scrollBy({left:-300,behavior:"smooth"})},x=()=>{l.value&&l.value.scrollBy({left:300,behavior:"smooth"})},C=t=>t==="채권"?"중":t==="주식"||t==="코인"?"상":"알 수 없음",S=t=>t==="채권"?"risk-medium":t==="주식"||t==="코인"?"risk-high":"";I(()=>{localStorage.getItem("authToken")?(u.get("/invest/available").then(s=>{s.data.success?(f.value=s.data.response.data.availableCash,v.value=w(s.data.response.data.availableCash)):console.error("여유 자금 데이터를 가져오는데 실패했습니다.")}).catch(s=>{console.error("여유 자금 데이터를 가져오는 중 에러 발생:",s)}),u.get("/invest/recommended").then(s=>{s.data.success?(p.value=s.data.response.data,h.value=!1):console.error("추천 상품을 가져오는데 실패했습니다.")}).catch(s=>{console.error("추천 상품을 가져오는 중 에러 발생:",s)}),u.get("/invest/tendency").then(s=>{s.data.success?(m.value=s.data.response.data.tendency,g.value=s.data.response.data.category):console.error("투자 성향 데이터를 가져오는데 실패했습니다.")}).catch(s=>{console.error("투자 성향 데이터를 가져오는 중 에러 발생:",s)}).finally(()=>{})):(console.error("JWT 토큰이 localStorage에 없습니다."),h.value=!1)});const w=t=>t/5e6*100;return(t,s)=>{const y=N("font-awesome-icon");return n(),c("div",F,[M,e("div",R,[e("div",D,[i("나의 전체 자산 중 바로 투자를 할 수 있는 "),E,i(" 여유자금은 "),e("p",J,o(f.value.toLocaleString())+"원 ",1),i("이에요.")])]),e("div",O,[e("div",W,[e("div",$,[(n(),c("svg",q,[G,e("path",{class:"circle","stroke-dasharray":`${v.value}, 100`,d:`M18 2.0845
                 a 15.9155 15.9155 0 0 1 0 31.831
                 a 15.9155 15.9155 0 0 1 0 -31.831`},null,8,H)])),e("div",K,o(v.value.toFixed(0))+"% ",1)])]),Q]),e("div",U,[e("div",X,[i("김리치님의 "),e("p",Y,o(m.value),1),i(" 성향을 기반으로 추천드려요.")]),e("div",Z,o(g.value)+" 상품에 여유자금으로 투자하기",1)]),h.value?(n(),c("div",ee,te)):(n(),c("div",ae,[e("button",{onClick:k},[b(y,{style:{color:"#fff"},icon:["fas","chevron-left"]})]),e("div",{class:"scroll-container",ref_key:"scrollContainer",ref:l},[(n(!0),c(L,null,A(p.value,(_,P)=>(n(),c("div",{class:"scroll-item",key:P},[e("div",oe,[e("div",ce,[e("p",{class:T(S(_.prodCategroy))},"위험도 "+o(C(_.prodCategroy)),3),e("div",ne,o(_.name),1),e("div",le,[e("p",ie,o(_.price.toLocaleString())+"원",1),re])])])]))),128))],512),e("button",{onClick:x},[b(y,{style:{color:"#fff"},icon:["fas","chevron-right"]})])]))])}}},ue=B(de,[["__scopeId","data-v-37858d10"]]);export{ue as default};
