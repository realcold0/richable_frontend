import{_ as b,r as u,b as P,c as m,a as s,w as _,v as w,z as x,E as y,i as d,e as I,u as S,o as v,p as k,j as V}from"./index-E7HFo_Uv.js";import{u as g}from"./passwordResetStore-CTrFPaw3.js";import{a as E}from"./axios-CCb-kr4I.js";const n=t=>(k("data-v-029b547d"),t=t(),V(),t),B={id:"findpassword2",class:"find-pw-container"},R=n(()=>s("h1",{class:"my-5"},[s("i",{class:"fa-solid fa-lock"}),d(" 비밀번호 변경 ")],-1)),M={class:"mb-4 text-start"},N=n(()=>s("label",{for:"newPassword",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),d(" 새 비밀번호: ")],-1)),U={class:"mb-4 text-start"},D=n(()=>s("label",{for:"confirmPassword",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),d(" 새 비밀번호 확인: ")],-1)),F={key:0,class:"text-danger"},T=["disabled"],W=n(()=>s("i",{class:"fa-solid fa-check"},null,-1)),j="http://localhost:8080/member",z={__name:"FindPassWord2",setup(t){const p=S(),i=g(),o=u(""),r=u(""),e=u("");P(()=>{i.isVerified||(alert("비정상적인 접근입니다. 비밀번호 찾기 페이지로 이동합니다."),p.push({name:"findpassword"}))});const f=()=>{e.value=""},h=async()=>{if(o.value!==r.value){e.value="비밀번호가 일치하지 않습니다.";return}try{const a=await E.post(`${j}/set/pw`,{id:i.userId,newPassword:o.value});a.data.success?(alert("비밀번호가 성공적으로 재설정되었습니다."),i.reset(),p.push({name:"signIn"})):e.value=a.data.message||"비밀번호 재설정 중 오류가 발생했습니다."}catch(a){console.error("Error resetting password:",a),e.value="서버 오류가 발생했습니다. 나중에 다시 시도해주세요."}};return(a,l)=>(v(),m("div",B,[R,s("form",{onSubmit:I(h,["prevent"])},[s("div",M,[N,_(s("input",{type:"password",class:"form-control",id:"newPassword",placeholder:"새 비밀번호","onUpdate:modelValue":l[0]||(l[0]=c=>o.value=c),onInput:f},null,544),[[w,o.value]])]),s("div",U,[D,_(s("input",{type:"password",class:"form-control",id:"confirmPassword",placeholder:"새 비밀번호 확인","onUpdate:modelValue":l[1]||(l[1]=c=>r.value=c),onInput:f},null,544),[[w,r.value]])]),e.value?(v(),m("div",F,x(e.value),1)):y("",!0),s("button",{type:"submit",class:"btn btn-primary mt-4",disabled:!o.value||!r.value},[W,d(" 확인 ")],8,T)],32)]))}},$=b(z,[["__scopeId","data-v-029b547d"]]);export{$ as default};
